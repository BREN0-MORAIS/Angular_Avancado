<div class="container main-container p-3">
    <h4>Demo Cadastro</h4>
    <hr/>

    <!-- para poder pegar os dados de forma agrupado adiciona a tag formGroup  -->
    <form novalidate (ngSubmit)="adicionarUsuario()" [formGroup]="cadastroForm">
     <div class="form-horizontal">
         <div class="from-group p-3">
             <label for="Nome" class="col-md-2 control-label">Nome Completo</label>
             <div class="col-md-10">
            
                <!--passa uma validação pra ver se o formulario possui algum erro, caso possua ele apresentarar a classe 
                    para o usuário que resultará na invalidade do input.
                -->

                 <input 
                 [ngClass]="{'is-invalid':cadastroForm.get('nome')?.errors && (cadastroForm.get('nome')?.dirty || cadastroForm.get('nome')?.touched)}"
                 
                 type="text" id="nome" class="form-control" placeholder="Nome (requerido)"  formControlName="nome"/>
                 
                 <span class="text-danger" *ngIf="cadastroForm.get('nome')?.errors && (cadastroForm.get('nome')?.dirty || cadastroForm.get('nome')?.touched)">
                    <p>Preencha o campo nome</p>
                 </span>
             </div>
         </div>

         <div class="from-group p-3">
            <label for="cpf" class="col-md-2 control-label">CPF</label>
            <div class="col-md-10">
                <input type="text" id="cpf" class="form-control" placeholder="CPF (requerido)" formControlName="cpf"/>
            </div>
        </div>


        <div class="from-group p-3">
            <label for="email" class="col-md-2 control-label">E-mail</label>
            <div class="col-md-10">
                <input type="text" id="email" class="form-control" placeholder="E-mail (requerido)" formControlName="email"/>

                  
                <span class="text-danger" *ngIf="cadastroForm.get('email')?.errors?.required && (cadastroForm.get('email')?.dirty || cadastroForm.get('nome')?.touched)">
                    <p>Preencha o campo email</p>
                 </span>

                   <!-- ngif passa uma condivional pra verificar se o email possuil alguma validade fora do contextp  ou se ele
                foi preebchido ou se  ele foi tocado, caso alguma opção seja verdadeira mostrará a menssagem abaixo
                -->
                 <span class="text-danger" *ngIf="cadastroForm.get('email')?.errors?.email && (cadastroForm.get('email')?.dirty || cadastroForm.get('nome')?.touched)">
                    <p>E-mail com formato inválido</p>
                 </span>
            </div>
        </div>


        <div class="from-group p-3">
            <label for="senha" class="col-md-2 control-label">Senha</label>
            <div class="col-md-10">
                <input type="text" id="senha" class="form-control" placeholder="Senha (requerido)" formControlName="senha"/>
            </div>
        </div>

        

        <div class="from-group p-3">
            <label for="confirmarSenha" class="col-md-2 control-label">Confirmar Senha</label>
            <div class="col-md-10">
                <input type="text" id="confirmarSenha" class="form-control" placeholder="Confirmar Senha (requerido)" formControlName="senhaConfirmacao"/>
            </div>
        </div>



        

         <div class="from-group p-3">
            <div class="col-md-10">
               <span><button class="btn btn-success" id="Registrar" type="submit">Registrar</button></span>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-4 coll-md-offeset-2">
                <p>Formulário valido:{{cadastroForm.valid}}</p>
                <p>Formulário Tocado:{{cadastroForm.touched}}</p>
                <p>Formulário Sujo:{{cadastroForm.dirty}}</p>
                <p>Formulário Sujo:{{formResult}}</p>

            </div>
        </div>
     </div>
    </form>
</div>